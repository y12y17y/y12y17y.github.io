import{_ as x,K as g,r as s,o as i,c as l,e as r,w as d,F as h,f as p,g as f}from"./index.3a0d031f.js";const y=window.innerWidth-40,k=window.innerHeight-40;var _=[100,200,300,400,500,100,200,300,400,500,600,100,200,400,500,600,200,300,400,500,600,100,200,300,400,200,300,500],L=[100,100,100,100,100,200,200,200,200,200,200,300,300,300,300,300,400,400,400,400,400,500,500,500,500,600,600,600];function C(){const n=[];for(var e=0;e<_.length;e++)n.push({x:_[e],y:L[e],id:e});return n}const b={data(){return{stageSize:{width:y,height:k},targets:C(),connections:[],drawningLine:!1}},methods:{handleMouseDown(n){n.target instanceof g.Circle&&(this.drawningLine=!0,this.connections.push({id:Date.now(),points:[n.target.x(),n.target.y()]}))},handleMouseMove(n){if(!!this.drawningLine)try{const e=n.target.getStage().getPointerPosition(),t=this.connections[this.connections.length-1];t.points=[t.points[0],t.points[1],e.x,e.y]}catch{}},handleMouseUp(n){const e=n.target instanceof g.Circle,t=this.connections[this.connections.length-1];!e||(this.drawningLine=!1,t.points=[t.points[0],t.points[1],n.target.x(),n.target.y()])}}},B={style:{position:"absolute"}};function D(n,e,t,S,c,a){const v=s("v-line"),w=s("v-circle"),m=s("v-text"),u=s("v-layer"),M=s("v-stage");return i(),l("div",B,[r(M,{ref:"stage",config:c.stageSize,onMousedown:a.handleMouseDown,onMouseup:a.handleMouseUp,onMousemove:a.handleMouseMove},{default:d(()=>[r(u,null,{default:d(()=>[(i(!0),l(h,null,p(c.connections,o=>(i(),f(v,{key:o.id,config:{stroke:"black",points:o.points}},null,8,["config"]))),128)),(i(!0),l(h,null,p(c.targets,o=>(i(),f(w,{key:o.id,config:{x:o.x,y:o.y,radius:10,stroke:"black",fill:"green"}},null,8,["config"]))),128)),r(m,{config:{text:""}})]),_:1}),r(u,{ref:"dragLayer"},null,512)]),_:1},8,["config","onMousedown","onMouseup","onMousemove"])])}var F=x(b,[["render",D]]);export{F as default};
